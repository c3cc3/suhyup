/*
** trace_test.c
*/
#include "fq_common.h"
#include "fq_trace.h"

int main(int ac, char **av)
{
	int rc;
	trace_obj_t *obj=NULL;

	rc = open_trace_obj( "/tmp", "trace.log", "TRACE_EVENT|TRACE_SOCK|TRACE_DB|TRACE_CONV", 0,  0, 80,  &obj);
	CHECK(rc == TRUE);

	obj->on_trace( obj, TRACE_SOCK, "%s%d\n", "test1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", 1);
	obj->on_trace( obj, TRACE_EVENT, "%s%d\n", "test1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", 1);
	obj->on_trace( obj, TRACE_SESS, "%s%d\n", "test1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", 1);
	obj->on_trace( obj, TRACE_CONFIG, "%s%d\n", "test1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", 1);
	obj->on_trace( obj, TRACE_CONV, "%s%d\n", "test1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", 1);
	obj->on_trace( obj, TRACE_DEBUG, "%s%d\n", "test1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", 1);
	obj->on_trace( obj, TRACE_DB, "%s%d\n", "test1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", 1);

	rc = close_trace_obj( &obj);
	CHECK(rc == TRUE);

	printf("all success!\n");

	return(0);
}
